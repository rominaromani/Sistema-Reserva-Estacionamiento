(self["webpackChunksre"]=self["webpackChunksre"]||[]).push([[443],{2731:function(){function o(){window.location.href="/"}setInterval(o,1e4)},2016:function(o,e,t){"use strict";t.d(e,{Z:function(){return b}});var a=t(3396),r=t(9242),l=t(7139);const s=o=>((0,a.dD)("data-v-605cfbdc"),o=o(),(0,a.Cn)(),o),n={class:"position-absolute bottom-0 start-50 translate-middle-x"},i={key:0,class:"container"},c={class:"alert alert-danger"},u=s((()=>(0,a._)("strong",null,"Error!",-1)));function d(o,e,t,s,d,m){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(r.uT,{name:"bounce"},{default:(0,a.w5)((()=>[t.error?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",c,[u,(0,a.Uk)(" "+(0,l.zw)(t.error),1)])])):(0,a.kq)("",!0)])),_:1})])}var m={name:"error",setup(){},props:{error:String}},p=t(89);const h=(0,p.Z)(m,[["render",d],["__scopeId","data-v-605cfbdc"]]);var b=h},3041:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return G}});var a=t(3396),r=t(7139),l=t(9242);const s=o=>((0,a.dD)("data-v-1bf9cd3c"),o=o(),(0,a.Cn)(),o),n={class:"container mt-4 shadow-lg p-3 mb-5 bg-body rounded"},i={id:"tablaAutos",class:"table mt-2 table-bordered table-striped"},c=s((()=>(0,a._)("thead",null,[(0,a._)("div",{class:"h3 text-center font-weight-bold"},"Mis Autos"),(0,a._)("tr",null,[(0,a._)("th",null,"Placa"),(0,a._)("th",null,"Marca"),(0,a._)("th",null,"Modelo"),(0,a._)("th",null,"Color"),(0,a._)("th",null,"Estado"),(0,a._)("th",null,"Acciones")])],-1))),u=["onClick"],d=["onClick"],m={class:"modal fade",id:"modalupdateAuto",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},p={class:"modal-dialog",role:"document"},h={class:"modal-content"},b=s((()=>(0,a._)("div",{class:"modal-header bg-primary text-white"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Editar"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),f={class:"modal-body"},_={class:"form-group"},v=s((()=>(0,a._)("label",{for:"placa",class:"col-form-label"},"Placa",-1))),g=["placeholder"],y={class:"mb-3"},w=s((()=>(0,a._)("label",{for:"marca",class:"col-form-label"},"Marca",-1))),k={class:"mb-3"},C=s((()=>(0,a._)("label",{for:"modelo",class:"col-form-label"},"Modelo",-1))),F={class:"mb-3"},D=s((()=>(0,a._)("label",{for:"color",class:"col-form-label"},"Color",-1))),A=s((()=>(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cerrar "),(0,a._)("button",{type:"submit",class:"btn btn-primary"}," Guardar ")],-1))),R={class:"modal fade",id:"modalinsertAuto",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},M={class:"modal-dialog",role:"document"},E={class:"modal-content"},I=s((()=>(0,a._)("div",{class:"modal-header bg-primary text-white"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Crear"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),x={class:"modal-body"},U={class:"mb-3"},z=s((()=>(0,a._)("label",{for:"placa",class:"col-form-label"},"Placa",-1))),T={class:"mb-3"},S=s((()=>(0,a._)("label",{for:"marca",class:"col-form-label"},"Marca",-1))),q={class:"mb-3"},P=s((()=>(0,a._)("label",{for:"modelo",class:"col-form-label"},"Modelo",-1))),$={class:"mb-3"},O=s((()=>(0,a._)("label",{for:"color",class:"col-form-label"},"Color",-1))),j=s((()=>(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cerrar "),(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Guardar")],-1)));function V(o,e,t,s,V,N){const B=(0,a.up)("Alert");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#modalinsertAuto",onClick:e[0]||(e[0]=o=>N.iniciarFormularioinsert())}," Crear "),(0,a._)("table",i,[c,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(V.autos,(o=>((0,a.wg)(),(0,a.iD)("tr",{key:o.placa},[(0,a._)("td",null,(0,r.zw)(o.placa),1),(0,a._)("td",null,(0,r.zw)(o.marca),1),(0,a._)("td",null,(0,r.zw)(o.modelo),1),(0,a._)("td",null,(0,r.zw)(o.color),1),(0,a._)("td",null,(0,r.zw)(o.estado),1),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-success","data-bs-toggle":"modal","data-bs-target":"#modalupdateAuto",onClick:e=>[N.getAuto(o.placa),N.iniciarFormularioupdate()]}," Editar ",8,u),"DIS"==o.estado?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-warning",onClick:e=>N.deleteAuto(o.placa)}," Eliminar ",8,d)):(0,a.kq)("",!0)]),(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("div",h,[b,(0,a._)("div",f,[(0,a._)("form",{id:"formularioupdateAuto",method:"PATCH",onSubmit:e[4]||(e[4]=(...o)=>N.updatesubmit&&N.updatesubmit(...o))},[(0,a._)("div",_,[v,(0,a._)("input",{type:"text",class:"form-control",id:"placa",placeholder:[[this.updatePlaca]],disabled:""},null,8,g)]),(0,a._)("div",y,[w,(0,a.wy)((0,a._)("input",{id:"marca",type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>V.updateMarca=o)},null,512),[[l.nr,V.updateMarca]])]),(0,a._)("div",k,[C,(0,a.wy)((0,a._)("input",{id:"modelo",type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>V.updateModelo=o)},null,512),[[l.nr,V.updateModelo]])]),(0,a._)("div",F,[D,(0,a.wy)((0,a._)("input",{id:"color",type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>V.updateColor=o)},null,512),[[l.nr,V.updateColor]])]),A],32)])])])])])))),128))])]),(0,a._)("div",R,[(0,a._)("div",M,[(0,a._)("div",E,[I,(0,a._)("div",x,[(0,a._)("form",{id:"formularioinsertAuto",method:"POST",onSubmit:e[9]||(e[9]=(...o)=>N.insertsubmit&&N.insertsubmit(...o))},[(0,a._)("div",U,[z,(0,a.wy)((0,a._)("input",{id:"placa",type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>V.insertPlaca=o)},null,512),[[l.nr,V.insertPlaca]])]),(0,a._)("div",T,[S,(0,a.wy)((0,a._)("input",{id:"marca",type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>V.insertMarca=o)},null,512),[[l.nr,V.insertMarca]])]),(0,a._)("div",q,[P,(0,a.wy)((0,a._)("input",{id:"modelo",type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>V.insertModelo=o)},null,512),[[l.nr,V.insertModelo]])]),(0,a._)("div",$,[O,(0,a.wy)((0,a._)("input",{id:"color",type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>V.insertColor=o)},null,512),[[l.nr,V.insertColor]])]),j],32)])])]),V.ok?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(B,{key:0,error:V.error},null,8,["error"]))])])}async function N(o,e){let t=await fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5002/autos/"+o,{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(o){return o.json()})).then((function(o){return o})).catch((o=>console.log(o)));return t}var B=t(8937),Z=t(2016),L={name:"autos",data(){return{error:null,ok:!1,idUsuario:this.$store.state.user.id,insertPlaca:"",insertMarca:"",insertModelo:"",insertColor:"",estado:"DIS",updatePlaca:"",updateMarca:"",updateModelo:"",updateColor:"",autos:[]}},components:{Alert:Z.Z},async created(){let o=this,e=o.$store.state.user.id,t=o.$store.state.user.token,a=await N(e,t);this.autos=a["autos"]},methods:{getAuto:function(o){this.updatePlaca=o},iniciarFormularioinsert:function(){this.ok=!0,this.error=null,this.insertPlaca="",this.insertMarca="",this.insertModelo="",this.insertColor=""},iniciarFormularioupdate:function(){this.ok=!0,this.error=null,this.updateMarca="",this.updateModelo="",this.updateColor=""},insertsubmit:async function(o){o.preventDefault(),this.ok=!1,this.error=null;let e=this;const t="DIS",a={idUsuario:this.$store.state.user.id,placa:this.insertPlaca,marca:this.insertMarca,modelo:this.insertModelo,color:this.insertColor,estado:t};fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5002/autos",{method:"POST",body:JSON.stringify(a),headers:{Authorization:"Bearer "+this.$store.state.user.token,"Content-Type":"application/json"}}).then((o=>o.json())).then((async function(o){if(console.log(o),o.success){e.ok=!0,e.insertPlaca="",e.insertMarca="",e.insertModelo="",e.insertColor="";let o=e.$store.state.user.id,t=e.$store.state.user.token,a=await N(o,t);e.autos=a["autos"];const r=B.u_.getInstance(document.getElementById("modalinsertAuto"));r.hide()}else e.error=o.message})).catch((o=>console.error("Error:",o)))},updatesubmit:async function(o){o.preventDefault();let e=this;const t={placa:this.updatePlaca,marca:this.updateMarca,modelo:this.updateModelo,color:this.updateColor};fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5002/autos/"+this.updatePlaca,{method:"PATCH",body:JSON.stringify(t),headers:{Authorization:"Bearer "+this.$store.state.user.token,"Content-Type":"application/json"}}).then((o=>o.json())).then((async function(o){console.log(e);let t=e.$store.state.user.id,a=e.$store.state.user.token,r=await N(t,a);if(e.autos=r["autos"],o.success){e.updateMarca="",e.updateModelo="",e.updateColor="";const o=B.u_.getInstance(document.getElementById("modalupdateAuto"));o.hide()}else e.error=o.message})).catch((o=>console.error("Error:",o)))},deleteAuto(o){let e=this;const t={placa:o};fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5002/autos/"+o,{method:"DELETE",body:JSON.stringify(t),headers:{Authorization:"Bearer "+this.$store.state.user.token,"Content-Type":"application/json"}}).then((o=>o.json())).then((async function(){console.log(e);let o=e.$store.state.user.id,t=e.$store.state.user.token,a=await N(o,t);e.autos=a["autos"]})).catch((o=>console.error("Error:",o)))}}},H=t(89);const J=(0,H.Z)(L,[["render",V],["__scopeId","data-v-1bf9cd3c"]]);var G=J},686:function(o,e,t){"use strict";t.r(e);var a=t(6426),r=t(6428),l={};for(var s in r)"default"!==s&&(l[s]=function(o){return r[o]}.bind(0,s));t.d(e,l);t(7924);var n=t(89);const i=(0,n.Z)(r["default"],[["render",a.s],["__scopeId","data-v-663c80c3"]]);e["default"]=i},4209:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return W}});var a=t(3396),r=t(7139),l=t(9242);const s=o=>((0,a.dD)("data-v-5460aec6"),o=o(),(0,a.Cn)(),o),n={class:"pantalla"},i={class:"grupoEstacionamiento"},c=["data-bs-toggle","onClick"],u={class:"modal fade",id:"modal-escoger"},d={class:"modal-dialog"},m={class:"modal-content"},p={class:"mb-3"},h=s((()=>(0,a._)("label",{for:"lugar",class:"col-form-label"},"Lugar de estacionamiento",-1))),b=["placeholder","value"],f={class:"mb-3 d-flex"},_={class:"m-auto"},v=s((()=>(0,a._)("label",{for:"fechaInicio",class:"col-form-label"},"Fecha inicio",-1))),g={class:"m-auto"},y=s((()=>(0,a._)("label",{for:"fechaFin",class:"col-form-label"},"Fecha final",-1))),w={id:"autosDisponibles"},k={key:2},C={class:"mb-3",id:"contenedorPlaca"},F=s((()=>(0,a._)("label",{for:"placa",class:"col-form-label"},"Placa",-1))),D={class:"mb-3",id:"contenedorMarca"},A=s((()=>(0,a._)("label",{for:"marca",class:"col-form-label"},"Marca",-1))),R={class:"mb-3",id:"contenedorModelo"},M=s((()=>(0,a._)("label",{for:"modelo",class:"col-form-label"},"Modelo",-1))),E={class:"mb-3",id:"contenedorColor"},I=s((()=>(0,a._)("label",{for:"color",class:"col-form-label"},"Color",-1))),x={key:3},U={id:"contenedorAutosDisponibles",class:"mb-3"},z=s((()=>(0,a._)("option",{disabled:"",value:""},"Seleccione un vehiculo",-1))),T=["value"],S={class:"mb-3"},q=s((()=>(0,a._)("label",{for:"costoReserva",class:"col-form-label"},"Costo de reserva",-1))),P=["placeholder","value"],$={class:"mb-3"},O=s((()=>(0,a._)("label",{for:"costoTotal",class:"col-form-label"},"Costo total",-1))),j=["placeholder","value"],V=s((()=>(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cerrar "),(0,a._)("button",{type:"submit",class:"btn btn-primary",form:"formularioReserva"}," Realizar reserva ")],-1)));function N(o,e,t,s,N,B){const Z=(0,a.up)("Alert");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.estacionamientos,((o,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"elementoEstacionamiento"},[(0,a._)("button",{class:(0,r.C_)(["lugarEstacionamiento",o.estadoRegistro]),"data-bs-toggle":["DIS"==o.estadoRegistro?"modal":""],type:"button","data-bs-target":"#modal-escoger",onClick:e=>[B.iniciarFormulario(o.lugar),B.autosUsuario()]},(0,r.zw)(o.lugar),11,c)])))),128))]),(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("div",m,[(0,a._)("form",{id:"formularioReserva",class:"modal-body",onSubmit:e[9]||(e[9]=(...o)=>B.submit&&B.submit(...o))},[(0,a._)("div",p,[h,(0,a._)("input",{class:"form-control",type:"text",placeholder:N.lugarEstacionamientoFormulario,id:"lugar",value:N.lugarEstacionamientoFormulario,readonly:"",required:""},null,8,b)]),(0,a._)("div",f,[(0,a._)("div",_,[v,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>N.inicioReservaFormulario=o),type:"datetime-local",class:"form-control",id:"fechaInicio",required:""},null,512),[[l.nr,N.inicioReservaFormulario]])]),(0,a._)("div",g,[y,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>N.finReservaFormulario=o),type:"datetime-local",class:"form-control",id:"fechaFin",required:""},null,512),[[l.nr,N.finReservaFormulario]])])]),(0,a._)("div",w,[N.alternarOpcionAutos&&B.cantidadAutosDisponibles>0?((0,a.wg)(),(0,a.iD)("button",{key:0,id:"cambiarAnadirDisponible",type:"button",onClick:e[2]||(e[2]=o=>{N.alternarOpcionAutos=!N.alternarOpcionAutos,N.placaFormulario=""})}," Carros disponibles ")):0==N.alternarOpcionAutos&&B.cantidadAutosDisponibles>0?((0,a.wg)(),(0,a.iD)("button",{key:1,id:"cambiarAnadirDisponible",type:"button",onClick:e[3]||(e[3]=o=>{N.alternarOpcionAutos=!N.alternarOpcionAutos,N.placaFormulario=""})}," Añadir auto ")):(0,a.kq)("",!0),N.alternarOpcionAutos||0==B.cantidadAutosDisponibles?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",C,[F,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>N.placaFormulario=o),class:"form-control",id:"placa",required:""},null,512),[[l.nr,N.placaFormulario]])]),(0,a._)("div",D,[A,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>N.marcaFormulario=o),class:"form-control",id:"marca",required:""},null,512),[[l.nr,N.marcaFormulario]])]),(0,a._)("div",R,[M,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>N.modeloFormulario=o),class:"form-control",id:"modelo",required:""},null,512),[[l.nr,N.modeloFormulario]])]),(0,a._)("div",E,[I,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=o=>N.colorFormulario=o),class:"form-control",id:"color",required:""},null,512),[[l.nr,N.colorFormulario]])])])):0==N.alternarOpcionAutos&&B.cantidadAutosDisponibles>0?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",U,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>N.placaFormulario=o),class:"form-select",id:"seleccionarAutosDisponibles",required:""},[z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(B.autosDisponibles,((o,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:o.placa},(0,r.zw)(o.placa),9,T)))),128))],512),[[l.bM,N.placaFormulario]])])])):(0,a.kq)("",!0)]),(0,a._)("div",S,[q,(0,a._)("input",{type:"number",class:"form-control",placeholder:B.costoReservaFormulario,value:B.costoReservaFormulario,id:"costoReserva",readonly:"",required:""},null,8,P)]),(0,a._)("div",$,[O,(0,a._)("input",{type:"number",class:"form-control",placeholder:B.costoTotalFormulario,value:B.costoTotalFormulario,id:"costoTotal",readonly:"",required:""},null,8,j)]),V],32)])]),N.ok?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(Z,{key:0,error:N.error},null,8,["error"]))])])}async function B(){let o=await fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5004/estacionamiento",{method:"GET"}).then((function(o){return o.json()})).then((function(o){return o})).catch((o=>console.log(o)));return o}async function Z(o,e){let t=await fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5002/autos/"+o,{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(o){return o.json()})).then((function(o){return o})).catch((o=>console.log(o)));return t}function L(o,e){if(null!=o&&null!=e){let t=Date.parse(e),a=Date.parse(o),r=(t-a)/1e3/60/60;r=Math.floor(r)+1*(r-Math.floor(r)>0);const l=3*r;return l}return 0}var H=t(8937),J=t(2016),G={name:"app-estacionamiento",data(){return{usuario:null,token:null,lugarEstacionamientoFormulario:"--",inicioReservaFormulario:null,finReservaFormulario:null,placaFormulario:"",marcaFormulario:"",modeloFormulario:"",colorFormulario:"",estacionamientos:null,cantidadestacionamientos:null,autos:[],cantidadAutos:0,alternarOpcionAutos:!1,error:null,ok:!1}},components:{Alert:J.Z},async created(){this.usuario=this.$store.state.user.id,this.token=this.$store.state.user.token;let o=await B();this.estacionamientos=o["estacionamientos"],this.cantidadestacionamientos=o["total_estacionamientos"];let e=this;setInterval((async function(){let o=await B();e.estacionamientos=o["estacionamientos"],e.cantidadestacionamientos=o["total_estacionamientos"],console.log(e.estacionamientos)}),1e4)},methods:{iniciarFormulario:function(o){this.lugarEstacionamientoFormulario=o,this.alternarOpcionAutos=!0,this.placaFormulario="",this.ok=!0,this.error=null},autosUsuario:async function(){let o=await Z(this.usuario,this.token);this.autos=o["autos"],this.cantidadAutos=o["total_autos"]},submit:function(o){o.preventDefault(),this.error=null,this.ok=!1,console.log(this.estacionamientos);let e=this.estacionamientos.filter((o=>o.lugar==this.lugarEstacionamientoFormulario));e=e[0],console.log(e),fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5003/reserva",{method:"POST",body:JSON.stringify({idUsuario:this.$store.state.user.id,lugar:this.lugarEstacionamientoFormulario,idEstacionamiento:e.idEstacionamiento,inicioReserva:this.inicioReservaFormulario,finReserva:this.finReservaFormulario,placa:this.placaFormulario,marca:this.marcaFormulario,modelo:this.modeloFormulario,color:this.colorFormulario,costoReserva:this.costoReservaFormulario,costoTotal:this.costoTotalFormulario,opcion:this.alternarOpcionAutos}),headers:{"Content-Type":"application/json"}}).then((o=>o.json())).then((o=>{if(console.log(o),o.success){this.ok=!0,this.lugarEstacionamientoFormulario="--",this.inicioReservaFormulario=null,this.finReservaFormulario=null,this.placaFormulario="",this.marcaFormulario="",this.modeloFormulario="",this.colorFormulario="";const o=H.u_.getInstance(document.getElementById("modal-escoger"));o.hide()}else this.error=o.message,console.log(this.error)})).catch((o=>console.log("error en el catch",o)))}},computed:{costoTotalFormulario(){return L(this.inicioReservaFormulario,this.finReservaFormulario)},costoReservaFormulario(){return 5*L(this.inicioReservaFormulario,this.finReservaFormulario)/100},cantidadAutosDisponibles(){return this.autos.filter((o=>"DIS"==o.estado)).length},autosDisponibles(){return this.autos.filter((o=>"DIS"==o.estado))}},watch:{inicioReservaFormulario(){var o=document.getElementById("fechaInicio"),e=document.getElementById("fechaFin");o.value&&(e.min=o.value)},finReservaFormulario(){var o=document.getElementById("fechaInicio"),e=document.getElementById("fechaFin");e.value&&(o.max=e.value)}}},K=t(89);const Y=(0,K.Z)(G,[["render",N],["__scopeId","data-v-5460aec6"]]);var W=Y},2225:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return f}});var a=t(3396),r=t(9242);const l=o=>((0,a.dD)("data-v-16d5dfd4"),o=o(),(0,a.Cn)(),o),s=l((()=>(0,a._)("h3",null,"Login",-1))),n=l((()=>(0,a._)("button",null,"Login",-1))),i={style:{padding:"15px"}},c=(0,a.Uk)(" No tienes una cuenta? "),u=(0,a.Uk)("Registrate");function d(o,e,t,l,d,m){const p=(0,a.up)("router-link"),h=(0,a.up)("Alert");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{class:"login",onSubmit:e[2]||(e[2]=(...o)=>m.submit&&m.submit(...o))},[(0,a.Wm)(r.uT,{name:"slide-fade",appear:""},{default:(0,a.w5)((()=>[s])),_:1}),(0,a.wy)((0,a._)("input",{class:"form-control",type:"email",placeholder:"Correo electrónico","onUpdate:modelValue":e[0]||(e[0]=o=>d.Correo=o)},null,512),[[r.nr,d.Correo]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",placeholder:"Contraseña","onUpdate:modelValue":e[1]||(e[1]=o=>d.Contrasena=o)},null,512),[[r.nr,d.Contrasena]]),n,(0,a._)("p",i,[c,(0,a.Wm)(p,{class:"link-light",to:"/register"},{default:(0,a.w5)((()=>[u])),_:1})])],32),d.ok?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:0,error:d.error},null,8,["error"]))],64)}var m=t(2016),p={data(){return{Correo:"",Contrasena:"",error:null,ok:!1}},components:{Alert:m.Z},methods:{submit:function(o){o.preventDefault(),this.error=null,fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5001/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correo:this.Correo,contrasena:this.Contrasena})}).then((o=>o.json())).then((o=>{if(console.log(o),o.success){this.ok=!0;const e={id:o.user.idUsuario,correo:o.user.correo,nombres:o.user.nombres,token:o.token};this.$store.commit("login",e),this.$router.push("/"),console.log(this.$store.getters.getUser)}else this.error=o.message}))}}},h=t(89);const b=(0,h.Z)(p,[["render",d],["__scopeId","data-v-16d5dfd4"]]);var f=b},6907:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var a=t(3396),r=t(9242);const l=o=>((0,a.dD)("data-v-1682a9a5"),o=o(),(0,a.Cn)(),o),s=l((()=>(0,a._)("h3",null,"Register",-1))),n=l((()=>(0,a._)("button",null,"Register",-1)));function i(o,e,t,l,i,c){const u=(0,a.up)("Alert");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{class:"register",novalidate:"",onSubmit:e[7]||(e[7]=(...o)=>c.submit&&c.submit(...o))},[(0,a.Wm)(r.uT,{name:"slide-fade",appear:""},{default:(0,a.w5)((()=>[s])),_:1}),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"DNI",minlength:"8",maxlength:"8","onUpdate:modelValue":e[0]||(e[0]=o=>i.DNI=o),onKeypress:e[1]||(e[1]=(...o)=>c.numericInput&&c.numericInput(...o)),required:""},null,544),[[r.nr,i.DNI]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"Celular",minlength:"9",maxlength:"9","onUpdate:modelValue":e[2]||(e[2]=o=>i.Celular=o),onKeypress:e[3]||(e[3]=(...o)=>c.numericInput&&c.numericInput(...o)),required:""},null,544),[[r.nr,i.Celular]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"Nombres",maxlength:"50","onUpdate:modelValue":e[4]||(e[4]=o=>i.Nombres=o),required:""},null,512),[[r.nr,i.Nombres]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"email",placeholder:"Correo electrónico",maxlength:"50","onUpdate:modelValue":e[5]||(e[5]=o=>i.Correo=o),required:""},null,512),[[r.nr,i.Correo]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",placeholder:"Contraseña",minlength:"5",maxlength:"20","onUpdate:modelValue":e[6]||(e[6]=o=>i.Contrasena=o),required:""},null,512),[[r.nr,i.Contrasena]])]),n],32),i.ok?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,error:i.error},null,8,["error"]))],64)}var c=t(2016),u={data(){return{DNI:"",Celular:"",Nombres:"",Correo:"",Contrasena:"",error:null,ok:!1}},components:{Alert:c.Z},methods:{submit:function(o){o.preventDefault(),this.error=null,fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5001/usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DNI:this.DNI,celular:this.Celular,nombres:this.Nombres,correo:this.Correo,contrasena:this.Contrasena})}).then((o=>o.json())).then((o=>{console.log(o),o.success?(this.ok=!0,this.$router.push("/login")):this.error=o.message}))},numericInput:function(o){"Digit"!=o.code.slice(0,5)&&o.preventDefault()}}},d=t(89);const m=(0,d.Z)(u,[["render",i],["__scopeId","data-v-1682a9a5"]]);var p=m},8179:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return b}});var a=t(3396),r=t(7139);const l={class:"container mt-4 shadow-lg p-3 mb-5 bg-body rounded"},s={id:"tablaReservas",class:"table mt-2 table-bordered table-striped"},n=(0,a._)("thead",null,[(0,a._)("div",{class:"h3 text-center font-weight-bold"},"Mis Reservas"),(0,a._)("tr",{class:"text-center"},[(0,a._)("th",null,"Lugar"),(0,a._)("th",null,"Fecha Inicio"),(0,a._)("th",null,"Fecha Fin"),(0,a._)("th",null,"Placa"),(0,a._)("th",null,"Costo Reserva(S/.)"),(0,a._)("th",null,"Costo Total(S/.)"),(0,a._)("th",null,"Estado"),(0,a._)("th",null,"Acciones")])],-1),i={key:0},c=["onClick"];function u(o,e,t,u,d,m){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("table",s,[n,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.reservas,(o=>((0,a.wg)(),(0,a.iD)("tr",{key:o.idReserva},[(0,a._)("td",null,(0,r.zw)(o.idEstacionamiento),1),(0,a._)("td",null,(0,r.zw)(o.inicioReserva),1),(0,a._)("td",null,(0,r.zw)(o.finReserva),1),(0,a._)("td",null,(0,r.zw)(o.placaAuto),1),(0,a._)("td",null,(0,r.zw)(o.costoReserva),1),(0,a._)("td",null,(0,r.zw)(o.costoTotal),1),(0,a._)("td",null,(0,r.zw)(o.estadoRegistro),1),"PEN"==o.estadoRegistro?((0,a.wg)(),(0,a.iD)("td",i,[(0,a._)("button",{class:"btn btn-warning",onClick:e=>m.deleteReserva(o.idReserva)}," Anular ",8,c)])):(0,a.kq)("",!0)])))),128))])])])}async function d(o){let e=await fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5003/reservas/"+o,{method:"GET"}).then((function(o){return o.json()})).then((function(o){return o})).catch((o=>console.log(o)));return e}var m={name:"reservas",data(){return{reservas:{}}},async created(){let o=this.$store.state.user.id,e=this.$store.state.user.token,t=await d(o,e);console.log(t),this.reservas=t["reservas"]},methods:{deleteReserva(o){let e=this;const t={idReserva:o};fetch("http://lb-parcial-347173395.us-east-1.elb.amazonaws.com:5003/reservas/"+o,{method:"DELETE",body:JSON.stringify(t)}).then((o=>o.json())).then((async function(){let o=e.$store.state.user.id,t=e.$store.state.user.token,a=await d(o,t);e.reservas=a["reservas"]})).catch((o=>console.log("Error:",o)))}}},p=t(89);const h=(0,p.Z)(m,[["render",u]]);var b=h},7924:function(){},6428:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return r.a}});var a=t(2731),r=t.n(a),l={};for(var s in a)"default"!==s&&(l[s]=function(o){return a[o]}.bind(0,s));t.d(e,l)},6426:function(o,e,t){"use strict";t.d(e,{s:function(){return v}});var a=t(3396),r=t.p+"img/errores.7a73a7de.png";const l=o=>((0,a.dD)("data-v-663c80c3"),o=o(),(0,a.Cn)(),o),s={class:"container"},n={class:"descripcion"},i=l((()=>(0,a._)("br",null,null,-1))),c=l((()=>(0,a._)("h1",null,"Página no encontrada",-1))),u=l((()=>(0,a._)("br",null,null,-1))),d=l((()=>(0,a._)("p",null," Es posible que haya escrito mal la dirección o que la página se haya movido ",-1))),m=(0,a.Uk)(" Se le redirigirá a la página principal en 10 segundos. "),p=l((()=>(0,a._)("br",null,null,-1))),h=(0,a.Uk)("Dele click en el siguiente enlace: "),b=(0,a.Uk)("Home"),f=(0,a.Uk)(" en caso no se le rediriga automáticamente. "),_=l((()=>(0,a._)("div",{class:"imagenes col-sm-6"},[(0,a._)("div",null,[(0,a._)("img",{src:r,class:"img-fluid",alt:"Imagen 1"})])],-1)));function v(o,e,t,r,l,v){const g=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",n,[i,c,u,d,(0,a._)("p",null,[m,p,h,(0,a.Wm)(g,{to:"/",class:"nav-link"},{default:(0,a.w5)((()=>[b])),_:1}),f])]),_])}}}]);
//# sourceMappingURL=about.20c20a3e.js.map